{"remainingRequest":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\3月\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue?vue&type=style&index=0&id=f7456bf2&scoped=true&lang=css","dependencies":[{"path":"F:\\workspace\\3月\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue","mtime":1704718217000},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\css-loader\\index.js","mtime":1709701118026},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1709701116791},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1709701156932},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1709701116791}],"contextDependencies":[],"result":["\n/deep/ .jvxe-select-input .ant-input{\n  border: none !important;\n}\n",{"version":3,"sources":["JVxeDepartSelectCell.vue"],"names":[],"mappings":";AA0IA;AACA;AACA","file":"JVxeDepartSelectCell.vue","sourceRoot":"src/components/jeecg/JVxeTable/components/cells","sourcesContent":["<template>\n  <div>\n      <a-input\n        v-show=\"!departIds\"\n        @click=\"openSelect\"\n        placeholder=\"请点击选择部门\"\n        v-model=\"departNames\"\n        readOnly\n        :disabled=\"componentDisabled\"\n        class=\"jvxe-select-input\">\n        <a-icon slot=\"prefix\" type=\"cluster\" title=\"部门选择控件\"/>\n      </a-input>\n      <j-select-depart-modal\n        ref=\"innerDepartSelectModal\"\n        :modal-width=\"modalWidth\"\n        :multi=\"multi\"\n        :rootOpened=\"rootOpened\"\n        :depart-id=\"departIds\"\n        @ok=\"handleOK\"\n        @initComp=\"initComp\"/>\n    <span style=\"display: inline-block;height:100%;padding-left:14px\" v-if=\"departIds\" >\n      <span @click=\"openSelect\" style=\"display: inline-block;vertical-align: middle\">{{ departNames }}</span>\n      <a-icon style=\"margin-left:5px;vertical-align: middle\" type=\"close-circle\" @click=\"handleEmpty\" title=\"清空\"/>\n    </span>\n  </div>\n</template>\n\n<script>\n  import JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins'\n  import JSelectDepartModal from '@/components/jeecgbiz/modal/JSelectDepartModal'\n\n  export default {\n    name: 'JVxeDepartSelectCell',\n    mixins: [JVxeCellMixins],\n    components:{\n      JSelectDepartModal\n    },\n    data() {\n      return {\n        departNames: '',\n        departIds: '',\n        selectedOptions: [],\n        customReturnField: 'id'\n      }\n    },\n    computed: {\n      custProps() {\n        const {departIds, originColumn: col, caseId, cellProps} = this\n        return {\n          ...cellProps,\n          value: departIds,\n          field: col.field || col.key,\n          groupId: caseId,\n          class: 'jvxe-select'\n        }\n      },\n      componentDisabled(){\n        if(this.cellProps.disabled==true){\n          return true\n        }\n        return false\n      },\n      modalWidth(){\n        if(this.cellProps.modalWidth){\n          return this.cellProps.modalWidth\n        }else{\n          return 500\n        }\n      },\n      multi(){\n        if(this.cellProps.multi==false){\n          return false\n        }else{\n          return true\n        }\n      },\n      rootOpened(){\n        if(this.cellProps.open==false){\n          return false\n        }else{\n          return true\n        }\n      }\n    },\n    watch: {\n      innerValue: {\n        immediate: true,\n        handler(val) {\n          if (val == null || val === '') {\n            this.departIds = ''\n          } else {\n            this.departIds = val\n          }\n        }\n      }\n    },\n    methods: {\n      openSelect(){\n        this.$refs.innerDepartSelectModal.show()\n      },\n      handleEmpty(){\n        this.handleOK('')\n      },\n      handleOK(rows, idstr) {\n        let value = ''\n        if (!rows && rows.length <= 0) {\n          this.departNames = ''\n          this.departIds = ''\n        } else {\n          value = rows.map(row => row[this.customReturnField]).join(',')\n          this.departNames = rows.map(row => row['departName']).join(',')\n          this.departIds = idstr\n        }\n        this.handleChangeCommon(this.departIds)\n      },\n      initComp(departNames){\n        this.departNames = departNames\n      },\n      handleChange(value) {\n        this.handleChangeCommon(value)\n      }\n    },\n    enhanced: {\n      switches: {\n        visible: true\n      },\n      translate: {\n        enabled: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /deep/ .jvxe-select-input .ant-input{\n    border: none !important;\n  }\n</style>"]}]}