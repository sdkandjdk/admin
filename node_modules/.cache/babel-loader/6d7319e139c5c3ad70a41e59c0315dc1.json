{"remainingRequest":"D:\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeDepartSelectCell.vue","mtime":1704718216000},{"path":"D:\\知识库系统\\admin\\babel.config.js","mtime":1704718216000},{"path":"D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins';\nimport JSelectDepartModal from '@/components/jeecgbiz/modal/JSelectDepartModal';\nexport default {\n  name: 'JVxeDepartSelectCell',\n  mixins: [JVxeCellMixins],\n  components: {\n    JSelectDepartModal: JSelectDepartModal\n  },\n  data: function data() {\n    return {\n      departNames: '',\n      departIds: '',\n      selectedOptions: [],\n      customReturnField: 'id'\n    };\n  },\n  computed: {\n    custProps: function custProps() {\n      var departIds = this.departIds,\n        col = this.originColumn,\n        caseId = this.caseId,\n        cellProps = this.cellProps;\n      return _objectSpread(_objectSpread({}, cellProps), {}, {\n        value: departIds,\n        field: col.field || col.key,\n        groupId: caseId,\n        class: 'jvxe-select'\n      });\n    },\n    componentDisabled: function componentDisabled() {\n      if (this.cellProps.disabled == true) {\n        return true;\n      }\n      return false;\n    },\n    modalWidth: function modalWidth() {\n      if (this.cellProps.modalWidth) {\n        return this.cellProps.modalWidth;\n      } else {\n        return 500;\n      }\n    },\n    multi: function multi() {\n      if (this.cellProps.multi == false) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    rootOpened: function rootOpened() {\n      if (this.cellProps.open == false) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  watch: {\n    innerValue: {\n      immediate: true,\n      handler: function handler(val) {\n        if (val == null || val === '') {\n          this.departIds = '';\n        } else {\n          this.departIds = val;\n        }\n      }\n    }\n  },\n  methods: {\n    openSelect: function openSelect() {\n      this.$refs.innerDepartSelectModal.show();\n    },\n    handleEmpty: function handleEmpty() {\n      this.handleOK('');\n    },\n    handleOK: function handleOK(rows, idstr) {\n      var _this = this;\n      var value = '';\n      if (!rows && rows.length <= 0) {\n        this.departNames = '';\n        this.departIds = '';\n      } else {\n        value = rows.map(function (row) {\n          return row[_this.customReturnField];\n        }).join(',');\n        this.departNames = rows.map(function (row) {\n          return row['departName'];\n        }).join(',');\n        this.departIds = idstr;\n      }\n      this.handleChangeCommon(this.departIds);\n    },\n    initComp: function initComp(departNames) {\n      this.departNames = departNames;\n    },\n    handleChange: function handleChange(value) {\n      this.handleChangeCommon(value);\n    }\n  },\n  enhanced: {\n    switches: {\n      visible: true\n    },\n    translate: {\n      enabled: false\n    }\n  }\n};",{"version":3,"names":["JVxeCellMixins","dispatchEvent","JSelectDepartModal","name","mixins","components","data","departNames","departIds","selectedOptions","customReturnField","computed","custProps","col","originColumn","caseId","cellProps","_objectSpread","value","field","key","groupId","class","componentDisabled","disabled","modalWidth","multi","rootOpened","open","watch","innerValue","immediate","handler","val","methods","openSelect","$refs","innerDepartSelectModal","show","handleEmpty","handleOK","rows","idstr","_this","length","map","row","join","handleChangeCommon","initComp","handleChange","enhanced","switches","visible","translate","enabled"],"sources":["src/components/jeecg/JVxeTable/components/cells/JVxeDepartSelectCell.vue"],"sourcesContent":["<template>\n  <div>\n      <a-input\n        v-show=\"!departIds\"\n        @click=\"openSelect\"\n        placeholder=\"请点击选择部门\"\n        v-model=\"departNames\"\n        readOnly\n        :disabled=\"componentDisabled\"\n        class=\"jvxe-select-input\">\n        <a-icon slot=\"prefix\" type=\"cluster\" title=\"部门选择控件\"/>\n      </a-input>\n      <j-select-depart-modal\n        ref=\"innerDepartSelectModal\"\n        :modal-width=\"modalWidth\"\n        :multi=\"multi\"\n        :rootOpened=\"rootOpened\"\n        :depart-id=\"departIds\"\n        @ok=\"handleOK\"\n        @initComp=\"initComp\"/>\n    <span style=\"display: inline-block;height:100%;padding-left:14px\" v-if=\"departIds\" >\n      <span @click=\"openSelect\" style=\"display: inline-block;vertical-align: middle\">{{ departNames }}</span>\n      <a-icon style=\"margin-left:5px;vertical-align: middle\" type=\"close-circle\" @click=\"handleEmpty\" title=\"清空\"/>\n    </span>\n  </div>\n</template>\n\n<script>\n  import JVxeCellMixins, { dispatchEvent } from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins'\n  import JSelectDepartModal from '@/components/jeecgbiz/modal/JSelectDepartModal'\n\n  export default {\n    name: 'JVxeDepartSelectCell',\n    mixins: [JVxeCellMixins],\n    components:{\n      JSelectDepartModal\n    },\n    data() {\n      return {\n        departNames: '',\n        departIds: '',\n        selectedOptions: [],\n        customReturnField: 'id'\n      }\n    },\n    computed: {\n      custProps() {\n        const {departIds, originColumn: col, caseId, cellProps} = this\n        return {\n          ...cellProps,\n          value: departIds,\n          field: col.field || col.key,\n          groupId: caseId,\n          class: 'jvxe-select'\n        }\n      },\n      componentDisabled(){\n        if(this.cellProps.disabled==true){\n          return true\n        }\n        return false\n      },\n      modalWidth(){\n        if(this.cellProps.modalWidth){\n          return this.cellProps.modalWidth\n        }else{\n          return 500\n        }\n      },\n      multi(){\n        if(this.cellProps.multi==false){\n          return false\n        }else{\n          return true\n        }\n      },\n      rootOpened(){\n        if(this.cellProps.open==false){\n          return false\n        }else{\n          return true\n        }\n      }\n    },\n    watch: {\n      innerValue: {\n        immediate: true,\n        handler(val) {\n          if (val == null || val === '') {\n            this.departIds = ''\n          } else {\n            this.departIds = val\n          }\n        }\n      }\n    },\n    methods: {\n      openSelect(){\n        this.$refs.innerDepartSelectModal.show()\n      },\n      handleEmpty(){\n        this.handleOK('')\n      },\n      handleOK(rows, idstr) {\n        let value = ''\n        if (!rows && rows.length <= 0) {\n          this.departNames = ''\n          this.departIds = ''\n        } else {\n          value = rows.map(row => row[this.customReturnField]).join(',')\n          this.departNames = rows.map(row => row['departName']).join(',')\n          this.departIds = idstr\n        }\n        this.handleChangeCommon(this.departIds)\n      },\n      initComp(departNames){\n        this.departNames = departNames\n      },\n      handleChange(value) {\n        this.handleChangeCommon(value)\n      }\n    },\n    enhanced: {\n      switches: {\n        visible: true\n      },\n      translate: {\n        enabled: false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /deep/ .jvxe-select-input .ant-input{\n    border: none !important;\n  }\n</style>"],"mappings":";;;;;;AA4BA,OAAAA,cAAA,IAAAC,aAAA;AACA,OAAAC,kBAAA;AAEA;EACAC,IAAA;EACAC,MAAA,GAAAJ,cAAA;EACAK,UAAA;IACAH,kBAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,SAAA;MACAC,eAAA;MACAC,iBAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,IAAAJ,SAAA,QAAAA,SAAA;QAAAK,GAAA,QAAAC,YAAA;QAAAC,MAAA,QAAAA,MAAA;QAAAC,SAAA,QAAAA,SAAA;MACA,OAAAC,aAAA,CAAAA,aAAA,KACAD,SAAA;QACAE,KAAA,EAAAV,SAAA;QACAW,KAAA,EAAAN,GAAA,CAAAM,KAAA,IAAAN,GAAA,CAAAO,GAAA;QACAC,OAAA,EAAAN,MAAA;QACAO,KAAA;MAAA;IAEA;IACAC,iBAAA,WAAAA,kBAAA;MACA,SAAAP,SAAA,CAAAQ,QAAA;QACA;MACA;MACA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,SAAAT,SAAA,CAAAS,UAAA;QACA,YAAAT,SAAA,CAAAS,UAAA;MACA;QACA;MACA;IACA;IACAC,KAAA,WAAAA,MAAA;MACA,SAAAV,SAAA,CAAAU,KAAA;QACA;MACA;QACA;MACA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,SAAAX,SAAA,CAAAY,IAAA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACAC,UAAA;MACAC,SAAA;MACAC,OAAA,WAAAA,QAAAC,GAAA;QACA,IAAAA,GAAA,YAAAA,GAAA;UACA,KAAAzB,SAAA;QACA;UACA,KAAAA,SAAA,GAAAyB,GAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA,KAAAC,KAAA,CAAAC,sBAAA,CAAAC,IAAA;IACA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,QAAA;IACA;IACAA,QAAA,WAAAA,SAAAC,IAAA,EAAAC,KAAA;MAAA,IAAAC,KAAA;MACA,IAAAzB,KAAA;MACA,KAAAuB,IAAA,IAAAA,IAAA,CAAAG,MAAA;QACA,KAAArC,WAAA;QACA,KAAAC,SAAA;MACA;QACAU,KAAA,GAAAuB,IAAA,CAAAI,GAAA,WAAAC,GAAA;UAAA,OAAAA,GAAA,CAAAH,KAAA,CAAAjC,iBAAA;QAAA,GAAAqC,IAAA;QACA,KAAAxC,WAAA,GAAAkC,IAAA,CAAAI,GAAA,WAAAC,GAAA;UAAA,OAAAA,GAAA;QAAA,GAAAC,IAAA;QACA,KAAAvC,SAAA,GAAAkC,KAAA;MACA;MACA,KAAAM,kBAAA,MAAAxC,SAAA;IACA;IACAyC,QAAA,WAAAA,SAAA1C,WAAA;MACA,KAAAA,WAAA,GAAAA,WAAA;IACA;IACA2C,YAAA,WAAAA,aAAAhC,KAAA;MACA,KAAA8B,kBAAA,CAAA9B,KAAA;IACA;EACA;EACAiC,QAAA;IACAC,QAAA;MACAC,OAAA;IACA;IACAC,SAAA;MACAC,OAAA;IACA;EACA;AACA","ignoreList":[]}]}