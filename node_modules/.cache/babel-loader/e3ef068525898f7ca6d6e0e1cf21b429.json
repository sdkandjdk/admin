{"remainingRequest":"D:\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeInputCell.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\知识库系统\\admin\\src\\components\\jeecg\\JVxeTable\\components\\cells\\JVxeInputCell.vue","mtime":1704718216000},{"path":"D:\\知识库系统\\admin\\babel.config.js","mtime":1704718216000},{"path":"D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { JVXETypes } from '@/components/jeecg/JVxeTable';\nimport JVxeCellMixins from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins';\nvar NumberRegExp = /^-?\\d+\\.?\\d*$/;\nexport default {\n  name: 'JVxeInputCell',\n  mixins: [JVxeCellMixins],\n  methods: {\n    /** 处理change事件 */handleChange: function handleChange(event) {\n      var $type = this.$type;\n      var target = event.target;\n      var value = target.value,\n        selectionStart = target.selectionStart;\n      var change = true;\n      if ($type === JVXETypes.inputNumber) {\n        // 判断输入的值是否匹配数字正则表达式，不匹配就还原\n        if (!NumberRegExp.test(value) && value !== '' && value !== '-') {\n          change = false;\n          value = this.innerValue;\n          target.value = value || '';\n          if (typeof selectionStart === 'number') {\n            target.selectionStart = selectionStart - 1;\n            target.selectionEnd = selectionStart - 1;\n          }\n        }\n      }\n      // 触发事件，存储输入的值\n      if (change) {\n        this.handleChangeCommon(value);\n      }\n      if ($type === JVXETypes.inputNumber) {\n        // this.recalcOneStatisticsColumn(col.key)\n      }\n    },\n    /** 处理blur失去焦点事件 */handleBlur: function handleBlur(event) {\n      var $type = this.$type;\n      var target = event.target;\n      // 判断输入的值是否匹配数字正则表达式，不匹配就置空\n      if ($type === JVXETypes.inputNumber) {\n        if (!NumberRegExp.test(target.value)) {\n          target.value = '';\n        } else {\n          target.value = Number.parseFloat(target.value);\n        }\n        this.handleChangeCommon(target.value);\n      }\n      this.handleBlurCommon(target.value);\n    }\n  },\n  // 【组件增强】注释详见：JVxeCellMixins.js\n  enhanced: {\n    installOptions: {\n      // 自动聚焦的 class 类名\n      autofocus: '.ant-input'\n    },\n    getValue: function getValue(value) {\n      if (this.$type === JVXETypes.inputNumber && typeof value === 'string') {\n        if (NumberRegExp.test(value)) {\n          return Number.parseFloat(value);\n        }\n      }\n      return value;\n    }\n  }\n};",{"version":3,"names":["JVXETypes","JVxeCellMixins","NumberRegExp","name","mixins","methods","handleChange","event","$type","target","value","selectionStart","change","inputNumber","test","innerValue","selectionEnd","handleChangeCommon","handleBlur","Number","parseFloat","handleBlurCommon","enhanced","installOptions","autofocus","getValue"],"sources":["src/components/jeecg/JVxeTable/components/cells/JVxeInputCell.vue"],"sourcesContent":["<template>\n  <a-input\n    ref=\"input\"\n    :value=\"innerValue\"\n    v-bind=\"cellProps\"\n    @blur=\"handleBlur\"\n    @change=\"handleChange\"\n  />\n</template>\n\n<script>\n  import { JVXETypes } from '@/components/jeecg/JVxeTable'\n  import JVxeCellMixins from '@/components/jeecg/JVxeTable/mixins/JVxeCellMixins'\n\n  const NumberRegExp = /^-?\\d+\\.?\\d*$/\n  export default {\n    name: 'JVxeInputCell',\n    mixins: [JVxeCellMixins],\n    methods: {\n\n      /** 处理change事件 */\n      handleChange(event) {\n        let {$type} = this\n        let {target} = event\n        let {value, selectionStart} = target\n        let change = true\n        if ($type === JVXETypes.inputNumber) {\n          // 判断输入的值是否匹配数字正则表达式，不匹配就还原\n          if (!NumberRegExp.test(value) && (value !== '' && value !== '-')) {\n            change = false\n            value = this.innerValue\n            target.value = value || ''\n            if (typeof selectionStart === 'number') {\n              target.selectionStart = selectionStart - 1\n              target.selectionEnd = selectionStart - 1\n            }\n          }\n        }\n        // 触发事件，存储输入的值\n        if (change) {\n          this.handleChangeCommon(value)\n        }\n\n        if ($type === JVXETypes.inputNumber) {\n          // this.recalcOneStatisticsColumn(col.key)\n        }\n      },\n\n      /** 处理blur失去焦点事件 */\n      handleBlur(event) {\n        let {$type} = this\n        let {target} = event\n        // 判断输入的值是否匹配数字正则表达式，不匹配就置空\n        if ($type === JVXETypes.inputNumber) {\n          if (!NumberRegExp.test(target.value)) {\n            target.value = ''\n          } else {\n            target.value = Number.parseFloat(target.value)\n          }\n          this.handleChangeCommon(target.value)\n        }\n\n        this.handleBlurCommon(target.value)\n      },\n\n    },\n    // 【组件增强】注释详见：JVxeCellMixins.js\n    enhanced: {\n      installOptions: {\n        // 自动聚焦的 class 类名\n        autofocus: '.ant-input',\n      },\n      getValue(value) {\n        if (this.$type === JVXETypes.inputNumber && typeof value === 'string') {\n          if (NumberRegExp.test(value)) {\n            return Number.parseFloat(value)\n          }\n        }\n        return value\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AAWA,SAAAA,SAAA;AACA,OAAAC,cAAA;AAEA,IAAAC,YAAA;AACA;EACAC,IAAA;EACAC,MAAA,GAAAH,cAAA;EACAI,OAAA;IAEA,iBACAC,YAAA,WAAAA,aAAAC,KAAA;MACA,IAAAC,KAAA,QAAAA,KAAA;MACA,IAAAC,MAAA,GAAAF,KAAA,CAAAE,MAAA;MACA,IAAAC,KAAA,GAAAD,MAAA,CAAAC,KAAA;QAAAC,cAAA,GAAAF,MAAA,CAAAE,cAAA;MACA,IAAAC,MAAA;MACA,IAAAJ,KAAA,KAAAR,SAAA,CAAAa,WAAA;QACA;QACA,KAAAX,YAAA,CAAAY,IAAA,CAAAJ,KAAA,KAAAA,KAAA,WAAAA,KAAA;UACAE,MAAA;UACAF,KAAA,QAAAK,UAAA;UACAN,MAAA,CAAAC,KAAA,GAAAA,KAAA;UACA,WAAAC,cAAA;YACAF,MAAA,CAAAE,cAAA,GAAAA,cAAA;YACAF,MAAA,CAAAO,YAAA,GAAAL,cAAA;UACA;QACA;MACA;MACA;MACA,IAAAC,MAAA;QACA,KAAAK,kBAAA,CAAAP,KAAA;MACA;MAEA,IAAAF,KAAA,KAAAR,SAAA,CAAAa,WAAA;QACA;MAAA;IAEA;IAEA,mBACAK,UAAA,WAAAA,WAAAX,KAAA;MACA,IAAAC,KAAA,QAAAA,KAAA;MACA,IAAAC,MAAA,GAAAF,KAAA,CAAAE,MAAA;MACA;MACA,IAAAD,KAAA,KAAAR,SAAA,CAAAa,WAAA;QACA,KAAAX,YAAA,CAAAY,IAAA,CAAAL,MAAA,CAAAC,KAAA;UACAD,MAAA,CAAAC,KAAA;QACA;UACAD,MAAA,CAAAC,KAAA,GAAAS,MAAA,CAAAC,UAAA,CAAAX,MAAA,CAAAC,KAAA;QACA;QACA,KAAAO,kBAAA,CAAAR,MAAA,CAAAC,KAAA;MACA;MAEA,KAAAW,gBAAA,CAAAZ,MAAA,CAAAC,KAAA;IACA;EAEA;EACA;EACAY,QAAA;IACAC,cAAA;MACA;MACAC,SAAA;IACA;IACAC,QAAA,WAAAA,SAAAf,KAAA;MACA,SAAAF,KAAA,KAAAR,SAAA,CAAAa,WAAA,WAAAH,KAAA;QACA,IAAAR,YAAA,CAAAY,IAAA,CAAAJ,KAAA;UACA,OAAAS,MAAA,CAAAC,UAAA,CAAAV,KAAA;QACA;MACA;MACA,OAAAA,KAAA;IACA;EACA;AACA","ignoreList":[]}]}