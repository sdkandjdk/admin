{"remainingRequest":"E:\\work-25\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\work-25\\知识库系统\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\work-25\\知识库系统\\admin\\src\\utils\\authFilter.js","dependencies":[{"path":"E:\\work-25\\知识库系统\\admin\\src\\utils\\authFilter.js","mtime":1704718216000},{"path":"E:\\work-25\\知识库系统\\admin\\babel.config.js","mtime":1704718216000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { USER_AUTH, SYS_BUTTON_AUTH } from \"@/store/mutation-types\";\nexport function disabledAuthFilter(code, formData) {\n  if (nodeDisabledAuth(code, formData)) {\n    return true;\n  } else {\n    return globalDisabledAuth(code);\n  }\n}\nfunction nodeDisabledAuth(code, formData) {\n  //console.log(\"页面权限禁用--NODE--开始\");\n  var permissionList = [];\n  try {\n    //console.log(\"页面权限禁用--NODE--开始\",formData);\n    if (formData) {\n      var bpmList = formData.permissionList;\n      permissionList = bpmList.filter(function (item) {\n        return item.type == '2';\n      });\n      // for (let bpm of bpmList) {\n      //   if(bpm.type == '2') {\n      //     permissionList.push(bpm);\n      //   }\n      // }\n    } else {\n      return false;\n    }\n  } catch (e) {\n    //console.log(\"页面权限异常----\", e);\n  }\n  if (permissionList.length == 0) {\n    return false;\n  }\n  console.log(\"流程节点页面权限禁用--NODE--开始\");\n  var permissions = [];\n  var _iterator = _createForOfIteratorHelper(permissionList),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      if (item.type == '2') {\n        permissions.push(item.action);\n      }\n    }\n    //console.log(\"页面权限----\"+code);\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (!permissions.includes(code)) {\n    return false;\n  } else {\n    var _iterator2 = _createForOfIteratorHelper(permissionList),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var item2 = _step2.value;\n        if (code === item2.action) {\n          console.log(\"流程节点页面权限禁用--NODE--生效\");\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n  return false;\n}\nfunction globalDisabledAuth(code) {\n  //console.log(\"全局页面禁用权限--Global--开始\");\n\n  var permissionList = [];\n  var allPermissionList = [];\n\n  //let authList = Vue.ls.get(USER_AUTH);\n  var authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  var _iterator3 = _createForOfIteratorHelper(authList),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var auth = _step3.value;\n      if (auth.type == '2') {\n        permissionList.push(auth);\n      }\n    }\n    //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  var allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  var _iterator4 = _createForOfIteratorHelper(allAuthList),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var gauth = _step4.value;\n      if (gauth.type == '2') {\n        allPermissionList.push(gauth);\n      }\n    }\n    //设置全局配置是否有命中\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  var gFlag = false; //禁用命中\n  var invalidFlag = false; //无效命中\n  if (allPermissionList != null && allPermissionList != \"\" && allPermissionList != undefined && allPermissionList.length > 0) {\n    var _iterator5 = _createForOfIteratorHelper(allPermissionList),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var itemG = _step5.value;\n        if (code === itemG.action) {\n          if (itemG.status == '0') {\n            invalidFlag = true;\n            break;\n          } else {\n            gFlag = true;\n            break;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n  if (invalidFlag) {\n    return false;\n  }\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined || permissionList.length <= 0) {\n    return gFlag;\n  }\n  var permissions = [];\n  for (var _i = 0, _permissionList = permissionList; _i < _permissionList.length; _i++) {\n    var item = _permissionList[_i];\n    if (item.type == '2') {\n      permissions.push(item.action);\n    }\n  }\n  //console.log(\"页面禁用权限----\"+code);\n  if (!permissions.includes(code)) {\n    return gFlag;\n  } else {\n    var _iterator6 = _createForOfIteratorHelper(permissionList),\n      _step6;\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var item2 = _step6.value;\n        if (code === item2.action) {\n          //console.log(\"全局页面权限解除禁用--Global--生效\");\n          gFlag = false;\n        }\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n    return gFlag;\n  }\n}\nexport function colAuthFilter(columns, pre) {\n  var authList = getNoAuthCols(pre);\n  var cols = columns.filter(function (item) {\n    if (hasColoum(item, authList)) {\n      return true;\n    }\n    return false;\n  });\n  return cols;\n}\n\n/**\n * 【子表行编辑】实现两个功能：\n * 1、隐藏JEditableTable无权限的字段\n * 2、禁用JEditableTable无权限的字段\n * @param columns\n * @param pre\n * @returns {*}\n */\nexport function colAuthFilterJEditableTable(columns, pre) {\n  var authList = getAllShowAndDisabledAuthCols(pre);\n  var cols = columns.filter(function (item) {\n    var oneAuth = authList.find(function (auth) {\n      return auth.action === pre + item.key;\n    });\n    if (!oneAuth) {\n      return true;\n    }\n\n    //代码严谨处理，防止一个授权标识，配置多次\n    if (oneAuth instanceof Array) {\n      oneAuth = oneAuth[0];\n    }\n\n    //禁用逻辑\n    if (oneAuth.type == '2' && !oneAuth.isAuth) {\n      item[\"disabled\"] = true;\n      return true;\n    }\n    //隐藏逻辑逻辑\n    if (oneAuth.type == '1' && !oneAuth.isAuth) {\n      return false;\n    }\n    return true;\n  });\n  return cols;\n}\nfunction hasColoum(item, authList) {\n  if (authList.includes(item.dataIndex)) {\n    return false;\n  }\n  return true;\n}\n\n//权限无效时不做控制，有效时控制，只能控制 显示不显示\n//根据授权码前缀获取未授权的列信息\nexport function getNoAuthCols(pre) {\n  if (!pre || pre.length == 0) {\n    return [];\n  }\n  var permissionList = [];\n  var allPermissionList = [];\n\n  //let authList = Vue.ls.get(USER_AUTH);\n  var authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  var _iterator7 = _createForOfIteratorHelper(authList),\n    _step7;\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var auth = _step7.value;\n      //显示策略，有效状态\n      if (auth.type == '1' && startWith(auth.action, pre)) {\n        permissionList.push(substrPre(auth.action, pre));\n      }\n    }\n    //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n  var allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  var _iterator8 = _createForOfIteratorHelper(allAuthList),\n    _step8;\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var gauth = _step8.value;\n      //显示策略，有效状态\n      if (gauth.type == '1' && gauth.status == '1' && startWith(gauth.action, pre)) {\n        allPermissionList.push(substrPre(gauth.action, pre));\n      }\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n  var cols = allPermissionList.filter(function (item) {\n    if (permissionList.includes(item)) {\n      return false;\n    }\n    return true;\n  });\n  return cols;\n}\n\n/**\n * 将Online的行编辑按钮权限，添加至本地存储\n */\nexport function addOnlineBtAuth2Storage(pre, authList) {\n  var allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  var newAuthList = allAuthList.filter(function (item) {\n    if (!item.action) {\n      return true;\n    }\n    return item.action.indexOf(pre) < 0;\n  });\n  if (authList && authList.length > 0) {\n    var _iterator9 = _createForOfIteratorHelper(authList),\n      _step9;\n    try {\n      for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n        var item = _step9.value;\n        newAuthList.push({\n          action: pre + item,\n          type: 1,\n          status: 1\n        });\n      }\n    } catch (err) {\n      _iterator9.e(err);\n    } finally {\n      _iterator9.f();\n    }\n    var temp = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n    var newArr = temp.filter(function (item) {\n      if (!item.action) {\n        return true;\n      }\n      return item.action.indexOf(pre) < 0 || authList.indexOf(item.action.replace(pre, '')) < 0;\n    });\n    sessionStorage.setItem(USER_AUTH, JSON.stringify(newArr));\n  }\n  sessionStorage.setItem(SYS_BUTTON_AUTH, JSON.stringify(newAuthList));\n}\n\n/**\n * 额外增加方法【用于行编辑组件】\n * date: 2020-04-05\n * author: scott\n * @param pre\n * @returns {*[]}\n */\nfunction getAllShowAndDisabledAuthCols(pre) {\n  //用户拥有的权限\n  var userAuthList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  //全部权限配置\n  var allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  var newAllAuthList = allAuthList.map(function (item, index) {\n    var hasAuthArray = userAuthList.filter(function (u) {\n      return u.action === item.action;\n    });\n    if (hasAuthArray && hasAuthArray.length > 0) {\n      item[\"isAuth\"] = true;\n    }\n    return item;\n  });\n  return newAllAuthList;\n}\nfunction startWith(str, pre) {\n  if (pre == null || pre == \"\" || str == null || str == \"\" || str.length == 0 || pre.length > str.length) return false;\n  if (str.substr(0, pre.length) == pre) return true;else return false;\n}\nfunction substrPre(str, pre) {\n  return str.substr(pre.length);\n}",{"version":3,"names":["USER_AUTH","SYS_BUTTON_AUTH","disabledAuthFilter","code","formData","nodeDisabledAuth","globalDisabledAuth","permissionList","bpmList","filter","item","type","e","length","console","log","permissions","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","push","action","err","f","includes","_iterator2","_step2","item2","allPermissionList","authList","JSON","parse","sessionStorage","getItem","_iterator3","_step3","auth","allAuthList","_iterator4","_step4","gauth","gFlag","invalidFlag","undefined","_iterator5","_step5","itemG","status","_i","_permissionList","_iterator6","_step6","colAuthFilter","columns","pre","getNoAuthCols","cols","hasColoum","colAuthFilterJEditableTable","getAllShowAndDisabledAuthCols","oneAuth","find","key","Array","isAuth","dataIndex","_iterator7","_step7","startWith","substrPre","_iterator8","_step8","addOnlineBtAuth2Storage","newAuthList","indexOf","_iterator9","_step9","temp","newArr","replace","setItem","stringify","userAuthList","newAllAuthList","map","index","hasAuthArray","u","str","substr"],"sources":["E:/work-25/知识库系统/admin/src/utils/authFilter.js"],"sourcesContent":["import { USER_AUTH,SYS_BUTTON_AUTH } from \"@/store/mutation-types\"\n\nexport function disabledAuthFilter(code,formData) {\n  if(nodeDisabledAuth(code,formData)){\n    return true;\n  }else{\n    return globalDisabledAuth(code);\n  }\n}\n\nfunction nodeDisabledAuth(code,formData){\n  //console.log(\"页面权限禁用--NODE--开始\");\n  let permissionList = [];\n  try {\n    //console.log(\"页面权限禁用--NODE--开始\",formData);\n    if (formData) {\n      let bpmList = formData.permissionList;\n      permissionList = bpmList.filter(item=>item.type=='2')\n      // for (let bpm of bpmList) {\n      //   if(bpm.type == '2') {\n      //     permissionList.push(bpm);\n      //   }\n      // }\n    }else{\n      return false;\n    }\n  } catch (e) {\n    //console.log(\"页面权限异常----\", e);\n  }\n  if (permissionList.length ==  0) {\n    return false;\n  }\n\n  console.log(\"流程节点页面权限禁用--NODE--开始\");\n  let permissions = [];\n  for (let item of permissionList) {\n    if(item.type == '2') {\n      permissions.push(item.action);\n    }\n  }\n  //console.log(\"页面权限----\"+code);\n  if (!permissions.includes(code)) {\n    return false;\n  }else{\n    for (let item2 of permissionList) {\n      if(code === item2.action){\n        console.log(\"流程节点页面权限禁用--NODE--生效\");\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction globalDisabledAuth(code){\n  //console.log(\"全局页面禁用权限--Global--开始\");\n\n  let permissionList = [];\n  let allPermissionList = [];\n\n  //let authList = Vue.ls.get(USER_AUTH);\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  for (let auth of authList) {\n    if(auth.type == '2') {\n      permissionList.push(auth);\n    }\n  }\n  //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  for (let gauth of allAuthList) {\n    if(gauth.type == '2') {\n      allPermissionList.push(gauth);\n    }\n  }\n  //设置全局配置是否有命中\n  let  gFlag = false;//禁用命中\n  let invalidFlag = false;//无效命中\n  if(allPermissionList != null && allPermissionList != \"\" && allPermissionList != undefined && allPermissionList.length > 0){\n    for (let itemG of allPermissionList) {\n      if(code === itemG.action){\n        if(itemG.status == '0'){\n          invalidFlag = true;\n          break;\n        }else{\n          gFlag = true;\n          break;\n        }\n      }\n    }\n  }\n  if(invalidFlag){\n    return false;\n  }\n  if (permissionList === null || permissionList === \"\" || permissionList === undefined||permissionList.length<=0) {\n    return gFlag;\n  }\n  let permissions = [];\n  for (let item of permissionList) {\n    if(item.type == '2') {\n      permissions.push(item.action);\n    }\n  }\n  //console.log(\"页面禁用权限----\"+code);\n  if (!permissions.includes(code)) {\n    return gFlag;\n  }else{\n    for (let item2 of permissionList) {\n      if(code === item2.action){\n        //console.log(\"全局页面权限解除禁用--Global--生效\");\n        gFlag = false;\n      }\n    }\n    return gFlag;\n  }\n}\n\n\n\nexport function colAuthFilter(columns,pre) {\n  let authList = getNoAuthCols(pre);\n  const cols = columns.filter(item => {\n    if (hasColoum(item,authList)) {\n      return true\n    }\n    return false\n  })\n  return cols\n}\n\n/**\n * 【子表行编辑】实现两个功能：\n * 1、隐藏JEditableTable无权限的字段\n * 2、禁用JEditableTable无权限的字段\n * @param columns\n * @param pre\n * @returns {*}\n */\nexport function colAuthFilterJEditableTable(columns,pre) {\n  let authList = getAllShowAndDisabledAuthCols(pre);\n  const cols = columns.filter(item => {\n    let oneAuth = authList.find(auth => {\n      return auth.action === pre + item.key;\n    });\n    if(!oneAuth){\n      return true\n    }\n\n    //代码严谨处理，防止一个授权标识，配置多次\n    if(oneAuth instanceof Array){\n      oneAuth = oneAuth[0]\n    }\n\n    //禁用逻辑\n    if (oneAuth.type == '2' && !oneAuth.isAuth) {\n      item[\"disabled\"] = true\n      return true\n    }\n    //隐藏逻辑逻辑\n    if (oneAuth.type == '1' && !oneAuth.isAuth) {\n      return false\n    }\n    return true\n  })\n  return cols\n}\n\n\nfunction hasColoum(item,authList){\n  if (authList.includes(item.dataIndex)) {\n    return false\n  }\n  return true\n}\n\n//权限无效时不做控制，有效时控制，只能控制 显示不显示\n//根据授权码前缀获取未授权的列信息\nexport function getNoAuthCols(pre){\n  if(!pre || pre.length==0){\n    return []\n  }\n  let permissionList = [];\n  let allPermissionList = [];\n\n  //let authList = Vue.ls.get(USER_AUTH);\n  let authList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  for (let auth of authList) {\n    //显示策略，有效状态\n    if(auth.type == '1'&&startWith(auth.action,pre)) {\n      permissionList.push(substrPre(auth.action,pre));\n    }\n  }\n  //console.log(\"页面禁用权限--Global--\",sessionStorage.getItem(SYS_BUTTON_AUTH));\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  for (let gauth of allAuthList) {\n    //显示策略，有效状态\n    if(gauth.type == '1'&&gauth.status == '1'&&startWith(gauth.action,pre)) {\n      allPermissionList.push(substrPre(gauth.action,pre));\n    }\n  }\n  const cols = allPermissionList.filter(item => {\n    if (permissionList.includes(item)) {\n      return false;\n    }\n    return true;\n  })\n  return cols;\n}\n\n/**\n * 将Online的行编辑按钮权限，添加至本地存储\n */\nexport function addOnlineBtAuth2Storage(pre, authList){\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n  let newAuthList = allAuthList.filter(item=>{\n    if(!item.action){\n      return true\n    }\n    return item.action.indexOf(pre)<0\n  })\n  if(authList && authList.length>0){\n    for(let item of authList){\n      newAuthList.push({\n        action: pre+item,\n        type:1,\n        status:1\n      })\n    }\n    let temp = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n    let newArr = temp.filter(item=>{\n      if(!item.action){\n        return true\n      }\n      return item.action.indexOf(pre)<0 || authList.indexOf(item.action.replace(pre, ''))<0\n    })\n    sessionStorage.setItem(USER_AUTH, JSON.stringify(newArr))\n  }\n  sessionStorage.setItem(SYS_BUTTON_AUTH, JSON.stringify(newAuthList))\n}\n\n\n\n/**\n * 额外增加方法【用于行编辑组件】\n * date: 2020-04-05\n * author: scott\n * @param pre\n * @returns {*[]}\n */\nfunction getAllShowAndDisabledAuthCols(pre){\n  //用户拥有的权限\n  let userAuthList = JSON.parse(sessionStorage.getItem(USER_AUTH) || \"[]\");\n  //全部权限配置\n  let allAuthList = JSON.parse(sessionStorage.getItem(SYS_BUTTON_AUTH) || \"[]\");\n\n  let newAllAuthList = allAuthList.map(function (item, index) {\n    let hasAuthArray = userAuthList.filter(u => u.action===item.action );\n    if (hasAuthArray && hasAuthArray.length>0) {\n      item[\"isAuth\"] = true\n    }\n    return item;\n  })\n\n  return newAllAuthList;\n}\n\nfunction startWith(str,pre) {\n  if (pre == null || pre == \"\" || str==null|| str==\"\"|| str.length == 0 || pre.length > str.length)\n    return false;\n  if (str.substr(0, pre.length) == pre)\n    return true;\n  else\n    return false;\n}\n\nfunction substrPre(str,pre) {\n  return str.substr(pre.length);\n}"],"mappings":"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","ignoreList":[]}]}