{"remainingRequest":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\src\\components\\jeecg\\JVxeTable\\components\\JVxeToolbar.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\src\\components\\jeecg\\JVxeTable\\components\\JVxeToolbar.vue","mtime":1704718217000},{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\babel.config.js","mtime":1704718217000},{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1709701140363},{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\km_community-main\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1709701116791}],"contextDependencies":[],"result":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nexport default {\n  name: 'JVxeToolbar',\n  props: {\n    toolbarConfig: Object,\n    excludeCode: Array,\n    size: String,\n    disabled: Boolean,\n    disabledRows: Object,\n    selectedRowIds: Array\n  },\n  data: function data() {\n    return {\n      // 是否收起\n      collapsed: true\n    };\n  },\n  computed: {\n    boxClass: function boxClass() {\n      return {\n        'j-vxe-toolbar': true,\n        'j-vxe-toolbar-collapsed': this.collapsed\n      };\n    },\n    btns: function btns() {\n      var arr = this.toolbarConfig.btn || ['add', 'remove', 'clearSelection'];\n      var exclude = _toConsumableArray(this.excludeCode);\n      // TODO 需要将remove替换batch_delete\n      // 系统默认的批量删除编码配置为 batch_delete 此处需要转化一下\n      if (exclude.indexOf('batch_delete') >= 0) {\n        exclude.push('remove');\n      }\n      // 按钮权限 需要去掉不被授权的按钮\n      return arr.filter(function (item) {\n        return exclude.indexOf(item) < 0;\n      });\n    },\n    slots: function slots() {\n      return this.toolbarConfig.slot || ['prefix', 'suffix'];\n    },\n    showPrefix: function showPrefix() {\n      return this.slots.includes('prefix');\n    },\n    showSuffix: function showSuffix() {\n      return this.slots.includes('suffix');\n    },\n    showAdd: function showAdd() {\n      return this.btns.includes('add');\n    },\n    showSave: function showSave() {\n      return this.btns.includes('save');\n    },\n    showRemove: function showRemove() {\n      return this.btns.includes('remove');\n    },\n    showClearSelection: function showClearSelection() {\n      if (this.btns.includes('clearSelection')) {\n        // 有禁用行时才显示清空选择按钮\n        // 因为禁用行会阻止选择行，导致无法取消全选\n        var length = Object.keys(this.disabledRows).length;\n        return length > 0;\n      }\n      return false;\n    },\n    showCollapse: function showCollapse() {\n      return this.btns.includes('collapse');\n    },\n    btnSize: function btnSize() {\n      return this.size === 'tiny' ? 'small' : null;\n    }\n  },\n  methods: {\n    /** 触发事件 */trigger: function trigger(name) {\n      this.$emit(name);\n    },\n    // 切换展开收起\n    toggleCollapse: function toggleCollapse() {\n      this.collapsed = !this.collapsed;\n    }\n  }\n};",{"version":3,"names":["name","props","toolbarConfig","Object","excludeCode","Array","size","String","disabled","Boolean","disabledRows","selectedRowIds","data","collapsed","computed","boxClass","btns","arr","btn","exclude","_toConsumableArray","indexOf","push","filter","item","slots","slot","showPrefix","includes","showSuffix","showAdd","showSave","showRemove","showClearSelection","length","keys","showCollapse","btnSize","methods","trigger","$emit","toggleCollapse"],"sources":["src/components/jeecg/JVxeTable/components/JVxeToolbar.vue"],"sourcesContent":["<template>\n  <div :class=\"boxClass\">\n    <!-- 工具按钮 -->\n    <div class=\"j-vxe-tool-button div\" :size=\"btnSize\">\n      <slot v-if=\"showPrefix\" name=\"toolbarPrefix\" :size=\"btnSize\"/>\n\n      <a-button v-if=\"showAdd\" icon=\"plus\" @click=\"trigger('add')\" :disabled=\"disabled\" type=\"primary\">新增</a-button>\n      <a-button v-if=\"showSave\" icon=\"save\" @click=\"trigger('save')\" :disabled=\"disabled\">保存</a-button>\n      <template v-if=\"selectedRowIds.length > 0\">\n        <a-popconfirm\n          v-if=\"showRemove\"\n          :title=\"`确定要删除这 ${selectedRowIds.length} 项吗?`\"\n          @confirm=\"trigger('remove')\"\n        >\n          <a-button icon=\"minus\" :disabled=\"disabled\">删除</a-button>\n        </a-popconfirm>\n        <template v-if=\"showClearSelection\">\n          <a-button icon=\"delete\" @click=\"trigger('clearSelection')\">清空选择</a-button>\n        </template>\n      </template>\n\n      <slot v-if=\"showSuffix\" name=\"toolbarSuffix\" :size=\"btnSize\"/>\n      <a v-if=\"showCollapse\" @click=\"toggleCollapse\" style=\"margin-left: 4px\">\n        <span>{{ collapsed ? '展开' : '收起' }}</span>\n        <a-icon :type=\"collapsed ? 'down' : 'up'\"/>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'JVxeToolbar',\n    props: {\n      toolbarConfig: Object,\n      excludeCode: Array,\n      size: String,\n      disabled: Boolean,\n      disabledRows: Object,\n      selectedRowIds: Array,\n    },\n    data() {\n      return {\n        // 是否收起\n        collapsed: true,\n      }\n    },\n    computed: {\n      boxClass() {\n        return {\n          'j-vxe-toolbar': true,\n          'j-vxe-toolbar-collapsed': this.collapsed,\n        }\n      },\n\n      btns() {\n        let arr = this.toolbarConfig.btn || ['add', 'remove', 'clearSelection']\n        let exclude = [...this.excludeCode]\n        // TODO 需要将remove替换batch_delete\n        // 系统默认的批量删除编码配置为 batch_delete 此处需要转化一下\n        if(exclude.indexOf('batch_delete')>=0){\n          exclude.push('remove')\n        }\n        // 按钮权限 需要去掉不被授权的按钮\n        return arr.filter(item=>{\n          return exclude.indexOf(item)<0\n        })\n      },\n      slots() {\n        return this.toolbarConfig.slot || ['prefix', 'suffix']\n      },\n      showPrefix() {\n        return this.slots.includes('prefix')\n      },\n      showSuffix() {\n        return this.slots.includes('suffix')\n      },\n      showAdd() {\n        return this.btns.includes('add')\n      },\n      showSave() {\n        return this.btns.includes('save')\n      },\n      showRemove() {\n        return this.btns.includes('remove')\n      },\n      showClearSelection() {\n        if (this.btns.includes('clearSelection')) {\n          // 有禁用行时才显示清空选择按钮\n          // 因为禁用行会阻止选择行，导致无法取消全选\n          let length = Object.keys(this.disabledRows).length\n          return length > 0\n        }\n        return false\n      },\n      showCollapse() {\n        return this.btns.includes('collapse')\n      },\n\n      btnSize() {\n        return this.size === 'tiny' ? 'small' : null\n      },\n    },\n    methods: {\n      /** 触发事件 */\n      trigger(name) {\n        this.$emit(name)\n      },\n      // 切换展开收起\n      toggleCollapse() {\n        this.collapsed = !this.collapsed\n      },\n    },\n  }\n</script>\n\n<style lang=\"less\">\n  .j-vxe-toolbar-collapsed {\n    [data-collapse] {\n      display: none;\n    }\n  }\n\n  .j-vxe-tool-button.div .ant-btn {\n    margin-right: 8px;\n  }\n</style>"],"mappings":";;;;;;AA+BA;EACAA,IAAA;EACAC,KAAA;IACAC,aAAA,EAAAC,MAAA;IACAC,WAAA,EAAAC,KAAA;IACAC,IAAA,EAAAC,MAAA;IACAC,QAAA,EAAAC,OAAA;IACAC,YAAA,EAAAP,MAAA;IACAQ,cAAA,EAAAN;EACA;EACAO,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACAC,QAAA,WAAAA,SAAA;MACA;QACA;QACA,gCAAAF;MACA;IACA;IAEAG,IAAA,WAAAA,KAAA;MACA,IAAAC,GAAA,QAAAf,aAAA,CAAAgB,GAAA;MACA,IAAAC,OAAA,GAAAC,kBAAA,MAAAhB,WAAA;MACA;MACA;MACA,IAAAe,OAAA,CAAAE,OAAA;QACAF,OAAA,CAAAG,IAAA;MACA;MACA;MACA,OAAAL,GAAA,CAAAM,MAAA,WAAAC,IAAA;QACA,OAAAL,OAAA,CAAAE,OAAA,CAAAG,IAAA;MACA;IACA;IACAC,KAAA,WAAAA,MAAA;MACA,YAAAvB,aAAA,CAAAwB,IAAA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,YAAAF,KAAA,CAAAG,QAAA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,YAAAJ,KAAA,CAAAG,QAAA;IACA;IACAE,OAAA,WAAAA,QAAA;MACA,YAAAd,IAAA,CAAAY,QAAA;IACA;IACAG,QAAA,WAAAA,SAAA;MACA,YAAAf,IAAA,CAAAY,QAAA;IACA;IACAI,UAAA,WAAAA,WAAA;MACA,YAAAhB,IAAA,CAAAY,QAAA;IACA;IACAK,kBAAA,WAAAA,mBAAA;MACA,SAAAjB,IAAA,CAAAY,QAAA;QACA;QACA;QACA,IAAAM,MAAA,GAAA/B,MAAA,CAAAgC,IAAA,MAAAzB,YAAA,EAAAwB,MAAA;QACA,OAAAA,MAAA;MACA;MACA;IACA;IACAE,YAAA,WAAAA,aAAA;MACA,YAAApB,IAAA,CAAAY,QAAA;IACA;IAEAS,OAAA,WAAAA,QAAA;MACA,YAAA/B,IAAA;IACA;EACA;EACAgC,OAAA;IACA,WACAC,OAAA,WAAAA,QAAAvC,IAAA;MACA,KAAAwC,KAAA,CAAAxC,IAAA;IACA;IACA;IACAyC,cAAA,WAAAA,eAAA;MACA,KAAA5B,SAAA,SAAAA,SAAA;IACA;EACA;AACA","ignoreList":[]}]}