{"remainingRequest":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\3月\\知识库系统\\admin\\src\\views\\system\\modules\\DataLogCompareModal.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\workspace\\3月\\知识库系统\\admin\\src\\views\\system\\modules\\DataLogCompareModal.vue","mtime":1704718217000},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\babel.config.js","mtime":1704718217000},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1709701140363},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1709701116791}],"contextDependencies":[],"result":["import { getAction } from '@/api/manage';\nexport default {\n  name: 'DataLogCompareModal',\n  data: function data() {\n    return {\n      modalWidth: 1000,\n      modaltoggleFlag: true,\n      confirmDirty: false,\n      title: '操作',\n      visible: false,\n      model: {},\n      confirmLoading: false,\n      headers: {},\n      //版本号\n      dataVersion1Num: '',\n      dataVersion2Num: '',\n      //表头\n      columns: [{\n        title: '字段名',\n        align: 'left',\n        dataIndex: 'code',\n        width: '30%'\n      }, {\n        align: 'left',\n        dataIndex: 'dataVersion1',\n        width: '30%',\n        slots: {\n          title: 'dataVersionTitle1'\n        }\n      }, {\n        title: '',\n        dataIndex: 'imgshow',\n        align: 'center',\n        scopedSlots: {\n          customRender: \"avatarslot\"\n        },\n        width: '10%'\n      }, {\n        align: 'left',\n        dataIndex: 'dataVersion2',\n        width: '30%',\n        slots: {\n          title: 'dataVersionTitle2'\n        }\n      }],\n      //数据集\n      dataSource: [],\n      loading: false,\n      url: {\n        queryCompareUrl: \"/sys/dataLog/queryCompareList\"\n      }\n    };\n  },\n  created: function created() {},\n  methods: {\n    loadData: function loadData(dataId1, dataId2) {\n      var _this = this;\n      this.dataSource = [];\n      var that = this;\n      getAction(that.url.queryCompareUrl, {\n        dataId1: dataId1,\n        dataId2: dataId2\n      }).then(function (res) {\n        if (res.success) {\n          that.dataVersion1Num = res.result[0].dataVersion;\n          that.dataVersion2Num = res.result[1].dataVersion;\n          var json1 = JSON.parse(res.result[0].dataContent);\n          var json2 = JSON.parse(res.result[1].dataContent);\n          for (var item1 in json1) {\n            for (var item2 in json2) {\n              if (item1 == item2) {\n                _this.dataSource.push({\n                  code: item1,\n                  imgshow: '',\n                  dataVersion1: json1[item1],\n                  dataVersion2: json2[item2]\n                });\n              }\n            }\n          }\n        } else {\n          console.log(res.message);\n        }\n      });\n    },\n    compareModal: function compareModal(dataId1, dataId2) {\n      this.visible = true;\n      this.loadData(dataId1, dataId2);\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    },\n    modalFormOk: function modalFormOk() {},\n    close: function close() {\n      this.$emit('close');\n      this.visible = false;\n      this.disableSubmit = false;\n    },\n    setdataCss: function setdataCss(record) {\n      var className = 'trcolor';\n      var dataVersion1 = record.dataVersion1;\n      var dataVersion2 = record.dataVersion2;\n      if (dataVersion1 != dataVersion2) {\n        return className;\n      }\n    },\n    getAvatarView: function getAvatarView(avatar) {\n      if (avatar.dataVersion1 != avatar.dataVersion2) {\n        return \"/goright.png\";\n      } else {\n        return \"\";\n      }\n    }\n  }\n};",{"version":3,"names":["getAction","name","data","modalWidth","modaltoggleFlag","confirmDirty","title","visible","model","confirmLoading","headers","dataVersion1Num","dataVersion2Num","columns","align","dataIndex","width","slots","scopedSlots","customRender","dataSource","loading","url","queryCompareUrl","created","methods","loadData","dataId1","dataId2","_this","that","then","res","success","result","dataVersion","json1","JSON","parse","dataContent","json2","item1","item2","push","code","imgshow","dataVersion1","dataVersion2","console","log","message","compareModal","handleCancel","close","modalFormOk","$emit","disableSubmit","setdataCss","record","className","getAvatarView","avatar"],"sources":["src/views/system/modules/DataLogCompareModal.vue"],"sourcesContent":["<template>\n  <a-modal\n    :width=\"modalWidth\"\n    :visible=\"visible\"\n    :footer=\"null\"\n    @cancel=\"handleCancel\"\n    cancelText=\"关闭\">\n    <!--table区 -->\n    <div class=\"marginCss\">\n      <a-table\n        ref=\"table\"\n        size=\"small\"\n        bordered\n        rowKey=\"id\"\n        :columns=\"columns\"\n        :dataSource=\"dataSource\"\n        :rowClassName=\"setdataCss\"\n        :loading=\"loading\"\n        :scroll=\"{ y: 700 }\"\n        :pagination=\"false\">\n        <span slot=\"dataVersionTitle1\"><a-icon type=\"smile-o\" /> 版本:{{dataVersion1Num}}</span>\n        <span slot=\"dataVersionTitle2\"><a-icon type=\"smile-o\" /> 版本:{{dataVersion2Num}}</span>\n        <template slot=\"avatarslot\" slot-scope=\"text, record\">\n          <div class=\"anty-img-wrap\">\n            <img :src=\"getAvatarView(record)\"/>\n          </div>\n\n        </template>\n      </a-table>\n    </div>\n  </a-modal>\n</template>\n\n<script>\n  import {getAction} from '@/api/manage'\n\n  export default {\n    name: 'DataLogCompareModal',\n    data() {\n      return {\n        modalWidth: 1000,\n        modaltoggleFlag: true,\n        confirmDirty: false,\n        title: '操作',\n        visible: false,\n        model: {},\n        confirmLoading: false,\n        headers: {},\n        //版本号\n        dataVersion1Num:'',\n        dataVersion2Num:'',\n        //表头\n        columns: [\n          {\n            title: '字段名',\n            align: 'left',\n            dataIndex: 'code',\n            width: '30%',\n          }, {\n            align: 'left',\n            dataIndex: 'dataVersion1',\n            width: '30%',\n            slots: { title: 'dataVersionTitle1' },\n          }, {\n            title: '',\n            dataIndex: 'imgshow',\n            align: 'center',\n            scopedSlots: {customRender: \"avatarslot\"},\n            width: '10%',\n          }, {\n            align: 'left',\n            dataIndex: 'dataVersion2',\n            width: '30%',\n            slots: { title: 'dataVersionTitle2' },\n          }\n        ],\n        //数据集\n        dataSource: [],\n        loading: false,\n        url: {\n          queryCompareUrl: \"/sys/dataLog/queryCompareList\",\n        },\n      }\n    },\n    created() {\n\n    },\n    methods: {\n      loadData(dataId1, dataId2) {\n        this.dataSource = [];\n        let that = this;\n        getAction(that.url.queryCompareUrl, {dataId1: dataId1, dataId2: dataId2}).then((res) => {\n          if (res.success) {\n            that.dataVersion1Num = res.result[0].dataVersion;\n            that.dataVersion2Num = res.result[1].dataVersion;\n            let json1 = JSON.parse(res.result[0].dataContent);\n            let json2 = JSON.parse(res.result[1].dataContent);\n            for (var item1 in json1) {\n              for (var item2 in json2) {\n                if (item1 == item2) {\n                  this.dataSource.push({\n                    code: item1,\n                    imgshow: '',\n                    dataVersion1: json1[item1],\n                    dataVersion2: json2[item2],\n                  })\n                }\n              }\n            }\n          } else {\n            console.log(res.message);\n          }\n        })\n      },\n      compareModal(dataId1, dataId2) {\n        this.visible = true\n        this.loadData(dataId1, dataId2);\n      },\n      handleCancel() {\n        this.close()\n      },\n      modalFormOk() {\n      },\n      close() {\n        this.$emit('close');\n        this.visible = false;\n        this.disableSubmit = false;\n      },\n      setdataCss(record) {\n        let className = 'trcolor';\n        const dataVersion1 = record.dataVersion1;\n        const dataVersion2 = record.dataVersion2;\n        if (dataVersion1 != dataVersion2) {\n          return className;\n        }\n      },\n      getAvatarView: function (avatar) {\n        if (avatar.dataVersion1 != avatar.dataVersion2) {\n          return \"/goright.png\";\n        } else {\n          return \"\";\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n@import '~@assets/less/index.less';\n/*import '@/assets/less/index.less'*/\n\n  .anty-img-wrap {\n    height: 25px;\n    position: relative;\n  }\n\n  .anty-img-wrap > img {\n    max-height: 100%;\n  }\n\n  .marginCss {\n    margin-top: 20px;\n  }\n\n</style>"],"mappings":"AAkCA,SAAAA,SAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,eAAA;MACAC,YAAA;MACAC,KAAA;MACAC,OAAA;MACAC,KAAA;MACAC,cAAA;MACAC,OAAA;MACA;MACAC,eAAA;MACAC,eAAA;MACA;MACAC,OAAA,GACA;QACAP,KAAA;QACAQ,KAAA;QACAC,SAAA;QACAC,KAAA;MACA;QACAF,KAAA;QACAC,SAAA;QACAC,KAAA;QACAC,KAAA;UAAAX,KAAA;QAAA;MACA;QACAA,KAAA;QACAS,SAAA;QACAD,KAAA;QACAI,WAAA;UAAAC,YAAA;QAAA;QACAH,KAAA;MACA;QACAF,KAAA;QACAC,SAAA;QACAC,KAAA;QACAC,KAAA;UAAAX,KAAA;QAAA;MACA,EACA;MACA;MACAc,UAAA;MACAC,OAAA;MACAC,GAAA;QACAC,eAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GAEA;EACAC,OAAA;IACAC,QAAA,WAAAA,SAAAC,OAAA,EAAAC,OAAA;MAAA,IAAAC,KAAA;MACA,KAAAT,UAAA;MACA,IAAAU,IAAA;MACA9B,SAAA,CAAA8B,IAAA,CAAAR,GAAA,CAAAC,eAAA;QAAAI,OAAA,EAAAA,OAAA;QAAAC,OAAA,EAAAA;MAAA,GAAAG,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACAH,IAAA,CAAAnB,eAAA,GAAAqB,GAAA,CAAAE,MAAA,IAAAC,WAAA;UACAL,IAAA,CAAAlB,eAAA,GAAAoB,GAAA,CAAAE,MAAA,IAAAC,WAAA;UACA,IAAAC,KAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAN,GAAA,CAAAE,MAAA,IAAAK,WAAA;UACA,IAAAC,KAAA,GAAAH,IAAA,CAAAC,KAAA,CAAAN,GAAA,CAAAE,MAAA,IAAAK,WAAA;UACA,SAAAE,KAAA,IAAAL,KAAA;YACA,SAAAM,KAAA,IAAAF,KAAA;cACA,IAAAC,KAAA,IAAAC,KAAA;gBACAb,KAAA,CAAAT,UAAA,CAAAuB,IAAA;kBACAC,IAAA,EAAAH,KAAA;kBACAI,OAAA;kBACAC,YAAA,EAAAV,KAAA,CAAAK,KAAA;kBACAM,YAAA,EAAAP,KAAA,CAAAE,KAAA;gBACA;cACA;YACA;UACA;QACA;UACAM,OAAA,CAAAC,GAAA,CAAAjB,GAAA,CAAAkB,OAAA;QACA;MACA;IACA;IACAC,YAAA,WAAAA,aAAAxB,OAAA,EAAAC,OAAA;MACA,KAAArB,OAAA;MACA,KAAAmB,QAAA,CAAAC,OAAA,EAAAC,OAAA;IACA;IACAwB,YAAA,WAAAA,aAAA;MACA,KAAAC,KAAA;IACA;IACAC,WAAA,WAAAA,YAAA,GACA;IACAD,KAAA,WAAAA,MAAA;MACA,KAAAE,KAAA;MACA,KAAAhD,OAAA;MACA,KAAAiD,aAAA;IACA;IACAC,UAAA,WAAAA,WAAAC,MAAA;MACA,IAAAC,SAAA;MACA,IAAAb,YAAA,GAAAY,MAAA,CAAAZ,YAAA;MACA,IAAAC,YAAA,GAAAW,MAAA,CAAAX,YAAA;MACA,IAAAD,YAAA,IAAAC,YAAA;QACA,OAAAY,SAAA;MACA;IACA;IACAC,aAAA,WAAAA,cAAAC,MAAA;MACA,IAAAA,MAAA,CAAAf,YAAA,IAAAe,MAAA,CAAAd,YAAA;QACA;MACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}