{"remainingRequest":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\workspace\\3月\\知识库系统\\admin\\src\\components\\dict\\JDictSelectTag.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\workspace\\3月\\知识库系统\\admin\\src\\components\\dict\\JDictSelectTag.vue","mtime":1704718217000},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\babel.config.js","mtime":1704718217000},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1709701140363},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709701155248},{"path":"F:\\workspace\\3月\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1709701116791}],"contextDependencies":[],"result":["import { ajaxGetDictItems, getDictItemsFromCache } from '@/api/api';\nexport default {\n  name: \"JDictSelectTag\",\n  props: {\n    dictCode: String,\n    placeholder: String,\n    disabled: Boolean,\n    value: [String, Number],\n    type: String,\n    getPopupContainer: {\n      type: Function,\n      default: function _default(node) {\n        return node.parentNode;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      dictOptions: [],\n      tagType: \"\"\n    };\n  },\n  watch: {\n    dictCode: {\n      immediate: true,\n      handler: function handler() {\n        this.initDictData();\n      }\n    }\n  },\n  created: function created() {\n    // console.log(this.dictCode);\n    if (!this.type || this.type === \"list\") {\n      this.tagType = \"select\";\n    } else {\n      this.tagType = this.type;\n    }\n    //获取字典数据\n    // this.initDictData();\n  },\n  computed: {\n    getValueSting: function getValueSting() {\n      // update-begin author:wangshuai date:20200601 for: 不显示placeholder的文字 ------\n      // 当有null或“” placeholder不显示\n      return this.value != null ? this.value.toString() : undefined;\n      // update-end author:wangshuai date:20200601 for: 不显示placeholder的文字 ------\n    }\n  },\n  methods: {\n    initDictData: function initDictData() {\n      var _this = this;\n      //优先从缓存中读取字典配置\n      if (getDictItemsFromCache(this.dictCode)) {\n        this.dictOptions = getDictItemsFromCache(this.dictCode);\n        return;\n      }\n\n      //根据字典Code, 初始化字典数组\n      ajaxGetDictItems(this.dictCode, null).then(function (res) {\n        if (res.success) {\n          //                console.log(res.result);\n          _this.dictOptions = res.result;\n        }\n      });\n    },\n    handleInput: function handleInput() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var val;\n      if (Object.keys(e).includes('target')) {\n        val = e.target.value;\n      } else {\n        val = e;\n      }\n      console.log(val);\n      this.$emit('change', val);\n    },\n    setCurrentDictOptions: function setCurrentDictOptions(dictOptions) {\n      this.dictOptions = dictOptions;\n    },\n    getCurrentDictOptions: function getCurrentDictOptions() {\n      return this.dictOptions;\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  }\n};",{"version":3,"names":["ajaxGetDictItems","getDictItemsFromCache","name","props","dictCode","String","placeholder","disabled","Boolean","value","Number","type","getPopupContainer","Function","default","_default","node","parentNode","data","dictOptions","tagType","watch","immediate","handler","initDictData","created","computed","getValueSting","toString","undefined","methods","_this","then","res","success","result","handleInput","e","arguments","length","val","Object","keys","includes","target","console","log","$emit","setCurrentDictOptions","getCurrentDictOptions","model","prop","event"],"sources":["src/components/dict/JDictSelectTag.vue"],"sourcesContent":["<template>\n  <a-radio-group v-if=\"tagType=='radio'\" @change=\"handleInput\" :value=\"getValueSting\" :disabled=\"disabled\">\n    <a-radio v-for=\"(item, key) in dictOptions\" :key=\"key\" :value=\"item.value\">{{ item.text }}</a-radio>\n  </a-radio-group>\n\n  <a-radio-group v-else-if=\"tagType=='radioButton'\"  buttonStyle=\"solid\" @change=\"handleInput\" :value=\"getValueSting\" :disabled=\"disabled\">\n    <a-radio-button v-for=\"(item, key) in dictOptions\" :key=\"key\" :value=\"item.value\">{{ item.text }}</a-radio-button>\n  </a-radio-group>\n\n  <a-select v-else-if=\"tagType=='select'\" :getPopupContainer = \"getPopupContainer\" :placeholder=\"placeholder\" :disabled=\"disabled\" :value=\"getValueSting\" @change=\"handleInput\">\n    <a-select-option :value=\"undefined\">请选择</a-select-option>\n    <a-select-option v-for=\"(item, key) in dictOptions\" :key=\"key\" :value=\"item.value\">\n      <span style=\"display: inline-block;width: 100%\" :title=\" item.text || item.label \">\n        {{ item.text || item.label }}\n      </span>\n    </a-select-option>\n  </a-select>\n</template>\n\n<script>\n  import {ajaxGetDictItems,getDictItemsFromCache} from '@/api/api'\n\n  export default {\n    name: \"JDictSelectTag\",\n    props: {\n      dictCode: String,\n      placeholder: String,\n      disabled: Boolean,\n      value: [String, Number],\n      type: String,\n      getPopupContainer:{\n        type: Function,\n        default: (node) => node.parentNode\n      }\n    },\n    data() {\n      return {\n        dictOptions: [],\n        tagType:\"\"\n      }\n    },\n    watch:{\n      dictCode:{\n        immediate:true,\n        handler() {\n          this.initDictData()\n        },\n      }\n    },\n    created() {\n      // console.log(this.dictCode);\n      if(!this.type || this.type===\"list\"){\n        this.tagType = \"select\"\n      }else{\n        this.tagType = this.type\n      }\n      //获取字典数据\n      // this.initDictData();\n    },\n    computed: {\n      getValueSting(){\n        // update-begin author:wangshuai date:20200601 for: 不显示placeholder的文字 ------\n        // 当有null或“” placeholder不显示\n        return this.value != null ? this.value.toString() : undefined;\n        // update-end author:wangshuai date:20200601 for: 不显示placeholder的文字 ------\n      },\n    },\n    methods: {\n      initDictData() {\n        //优先从缓存中读取字典配置\n        if(getDictItemsFromCache(this.dictCode)){\n          this.dictOptions = getDictItemsFromCache(this.dictCode);\n          return\n        }\n\n        //根据字典Code, 初始化字典数组\n        ajaxGetDictItems(this.dictCode, null).then((res) => {\n          if (res.success) {\n//                console.log(res.result);\n            this.dictOptions = res.result;\n          }\n        })\n      },\n      handleInput(e='') {\n        let val;\n        if(Object.keys(e).includes('target')){\n          val = e.target.value\n        }else{\n          val = e\n        }\n        console.log(val);\n        this.$emit('change', val);\n      },\n      setCurrentDictOptions(dictOptions){\n        this.dictOptions = dictOptions\n      },\n      getCurrentDictOptions(){\n        return this.dictOptions\n      }\n    },\n    model:{\n      prop: 'value',\n      event: 'change'\n    }\n  }\n</script>\n\n<style scoped>\n</style>"],"mappings":"AAoBA,SAAAA,gBAAA,EAAAC,qBAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,QAAA,EAAAC,MAAA;IACAC,WAAA,EAAAD,MAAA;IACAE,QAAA,EAAAC,OAAA;IACAC,KAAA,GAAAJ,MAAA,EAAAK,MAAA;IACAC,IAAA,EAAAN,MAAA;IACAO,iBAAA;MACAD,IAAA,EAAAE,QAAA;MACAC,OAAA,WAAAC,SAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAC,UAAA;MAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACAjB,QAAA;MACAkB,SAAA;MACAC,OAAA,WAAAA,QAAA;QACA,KAAAC,YAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA;IACA,UAAAd,IAAA,SAAAA,IAAA;MACA,KAAAS,OAAA;IACA;MACA,KAAAA,OAAA,QAAAT,IAAA;IACA;IACA;IACA;EACA;EACAe,QAAA;IACAC,aAAA,WAAAA,cAAA;MACA;MACA;MACA,YAAAlB,KAAA,gBAAAA,KAAA,CAAAmB,QAAA,KAAAC,SAAA;MACA;IACA;EACA;EACAC,OAAA;IACAN,YAAA,WAAAA,aAAA;MAAA,IAAAO,KAAA;MACA;MACA,IAAA9B,qBAAA,MAAAG,QAAA;QACA,KAAAe,WAAA,GAAAlB,qBAAA,MAAAG,QAAA;QACA;MACA;;MAEA;MACAJ,gBAAA,MAAAI,QAAA,QAAA4B,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACA;UACAH,KAAA,CAAAZ,WAAA,GAAAc,GAAA,CAAAE,MAAA;QACA;MACA;IACA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,CAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAT,SAAA,GAAAS,SAAA;MACA,IAAAE,GAAA;MACA,IAAAC,MAAA,CAAAC,IAAA,CAAAL,CAAA,EAAAM,QAAA;QACAH,GAAA,GAAAH,CAAA,CAAAO,MAAA,CAAAnC,KAAA;MACA;QACA+B,GAAA,GAAAH,CAAA;MACA;MACAQ,OAAA,CAAAC,GAAA,CAAAN,GAAA;MACA,KAAAO,KAAA,WAAAP,GAAA;IACA;IACAQ,qBAAA,WAAAA,sBAAA7B,WAAA;MACA,KAAAA,WAAA,GAAAA,WAAA;IACA;IACA8B,qBAAA,WAAAA,sBAAA;MACA,YAAA9B,WAAA;IACA;EACA;EACA+B,KAAA;IACAC,IAAA;IACAC,KAAA;EACA;AACA","ignoreList":[]}]}