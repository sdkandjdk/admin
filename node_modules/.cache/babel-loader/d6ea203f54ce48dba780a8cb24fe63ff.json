{"remainingRequest":"E:\\work-25\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\work-25\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\work-25\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\work-25\\知识库系统\\admin\\src\\views\\system\\DictItemList.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\work-25\\知识库系统\\admin\\src\\views\\system\\DictItemList.vue","mtime":1704718216000},{"path":"E:\\work-25\\知识库系统\\admin\\babel.config.js","mtime":1704718216000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work-25\\知识库系统\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import pick from 'lodash.pick';\nimport { filterObj } from '@/utils/util';\nimport DictItemModal from './modules/DictItemModal';\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin';\nexport default {\n  name: \"DictItemList\",\n  mixins: [JeecgListMixin],\n  components: {\n    DictItemModal: DictItemModal\n  },\n  data: function data() {\n    return {\n      columns: [{\n        title: '名称',\n        align: \"center\",\n        dataIndex: 'itemText'\n      }, {\n        title: '数据值',\n        align: \"center\",\n        dataIndex: 'itemValue'\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        align: \"center\",\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      queryParam: {\n        dictId: \"\",\n        dictName: \"\",\n        itemText: \"\",\n        delFlag: \"1\",\n        status: []\n      },\n      title: \"操作\",\n      visible: false,\n      screenWidth: 800,\n      model: {},\n      dictId: \"\",\n      status: 1,\n      labelCol: {\n        xs: {\n          span: 5\n        },\n        sm: {\n          span: 5\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 12\n        },\n        sm: {\n          span: 12\n        }\n      },\n      form: this.$form.createForm(this),\n      validatorRules: {\n        itemText: {\n          rules: [{\n            required: true,\n            message: '请输入名称!'\n          }]\n        },\n        itemValue: {\n          rules: [{\n            required: true,\n            message: '请输入数据值!'\n          }]\n        }\n      },\n      url: {\n        list: \"/sys/dictItem/list\",\n        delete: \"/sys/dictItem/delete\",\n        deleteBatch: \"/sys/dictItem/deleteBatch\"\n      }\n    };\n  },\n  created: function created() {\n    // 当页面初始化时,根据屏幕大小来给抽屉设置宽度\n    this.resetScreenSize();\n  },\n  methods: {\n    add: function add(dictId) {\n      this.dictId = dictId;\n      this.edit({});\n    },\n    edit: function edit(record) {\n      var _this = this;\n      if (record.id) {\n        this.dictId = record.id;\n      }\n      this.queryParam = {};\n      this.form.resetFields();\n      this.model = Object.assign({}, record);\n      this.model.dictId = this.dictId;\n      this.model.status = this.status;\n      this.visible = true;\n      this.$nextTick(function () {\n        _this.form.setFieldsValue(pick(_this.model, 'itemText', 'itemValue'));\n      });\n      // 当其它模块调用该模块时,调用此方法加载字典数据\n      this.loadData();\n    },\n    getQueryParams: function getQueryParams() {\n      //update--begin--autor:wangshuai-----date:20191204------for：清空总条数 teambition JT-113------\n      this.ipagination.total = 0;\n      //update--end--autor:wangshuai-----date:20191204------for：清空总条数 teambition JT-113------\n      var param = Object.assign({}, this.queryParam);\n      param.dictId = this.dictId;\n      param.field = this.getQueryField();\n      param.pageNo = this.ipagination.current;\n      param.pageSize = this.ipagination.pageSize;\n      if (this.superQueryParams) {\n        param['superQueryParams'] = encodeURI(this.superQueryParams);\n        param['superQueryMatchType'] = this.superQueryMatchType;\n      }\n      return filterObj(param);\n    },\n    // 添加字典数据\n    handleAdd: function handleAdd() {\n      this.$refs.modalForm.add(this.dictId);\n      this.$refs.modalForm.title = \"新增\";\n    },\n    showDrawer: function showDrawer() {\n      this.visible = true;\n    },\n    onClose: function onClose() {\n      this.visible = false;\n      this.form.resetFields();\n      this.dataSource = [];\n    },\n    // 抽屉的宽度随着屏幕大小来改变\n    resetScreenSize: function resetScreenSize() {\n      var screenWidth = document.body.clientWidth;\n      if (screenWidth < 600) {\n        this.screenWidth = screenWidth;\n      } else {\n        this.screenWidth = 600;\n      }\n    },\n    //update--begin--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n    //增加样式方法返回值\n    getRowClassname: function getRowClassname(record) {\n      if (record.status == 0) {\n        return \"data-rule-invalid\";\n      }\n    } //update--end--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n  }\n};",{"version":3,"names":["pick","filterObj","DictItemModal","JeecgListMixin","name","mixins","components","data","columns","title","align","dataIndex","scopedSlots","customRender","queryParam","dictId","dictName","itemText","delFlag","status","visible","screenWidth","model","labelCol","xs","span","sm","wrapperCol","form","$form","createForm","validatorRules","rules","required","message","itemValue","url","list","delete","deleteBatch","created","resetScreenSize","methods","add","edit","record","_this","id","resetFields","Object","assign","$nextTick","setFieldsValue","loadData","getQueryParams","ipagination","total","param","field","getQueryField","pageNo","current","pageSize","superQueryParams","encodeURI","superQueryMatchType","handleAdd","$refs","modalForm","showDrawer","onClose","dataSource","document","body","clientWidth","getRowClassname"],"sources":["src/views/system/DictItemList.vue"],"sourcesContent":["<template>\n  <a-card :bordered=\"false\">\n    <!-- 抽屉 -->\n    <a-drawer\n      title=\"字典列表\"\n      :width=\"screenWidth\"\n      @close=\"onClose\"\n      :visible=\"visible\"\n    >\n      <!-- 抽屉内容的border -->\n      <div\n        :style=\"{\n          padding:'10px',\n          border: '1px solid #e9e9e9',\n          background: '#fff',\n        }\">\n\n        <div class=\"table-page-search-wrapper\">\n          <a-form layout=\"inline\" :form=\"form\" @keyup.enter.native=\"searchQuery\">\n            <a-row :gutter=\"10\">\n              <a-col :md=\"8\" :sm=\"12\">\n                <a-form-item label=\"名称\">\n                  <a-input style=\"width: 120px;\" placeholder=\"请输入名称\" v-model=\"queryParam.itemText\"></a-input>\n                </a-form-item>\n              </a-col>\n              <a-col :md=\"9\" :sm=\"24\">\n                <a-form-item label=\"状态\" style=\"width: 170px\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n                  <a-select\n                    placeholder=\"请选择\"\n                    v-model=\"queryParam.status\"\n                  >\n                    <a-select-option value=\"1\">正常</a-select-option>\n                    <a-select-option value=\"0\">禁用</a-select-option>\n                  </a-select>\n                </a-form-item>\n              </a-col>\n              <a-col :md=\"7\" :sm=\"24\">\n              <span style=\"float: left;\" class=\"table-page-search-submitButtons\">\n                <a-button type=\"primary\" @click=\"searchQuery\">搜索</a-button>\n                <a-button  @click=\"searchReset\" style=\"margin-left: 8px\">重置</a-button>\n              </span>\n              </a-col>\n            </a-row>\n            <a-row>\n              <a-col :md=\"2\" :sm=\"24\">\n                <a-button style=\"margin-bottom: 10px\" type=\"primary\" @click=\"handleAdd\">新增</a-button>\n              </a-col>\n            </a-row>\n          </a-form>\n        </div>\n        <div>\n          <a-table\n            ref=\"table\"\n            rowKey=\"id\"\n            size=\"middle\"\n            :columns=\"columns\"\n            :dataSource=\"dataSource\"\n            :pagination=\"ipagination\"\n            :loading=\"loading\"\n            @change=\"handleTableChange\"\n            :rowClassName=\"getRowClassname\"\n          >\n\n          <span slot=\"action\" slot-scope=\"text, record\">\n            <a @click=\"handleEdit(record)\">编辑</a>\n            <a-divider type=\"vertical\"/>\n            <a-popconfirm title=\"确定删除吗?\" @confirm=\"() => handleDelete(record.id)\">\n              <a>删除</a>\n            </a-popconfirm>\n          </span>\n\n          </a-table>\n        </div>\n      </div>\n    </a-drawer>\n    <dict-item-modal ref=\"modalForm\" @ok=\"modalFormOk\"></dict-item-modal> <!-- 字典数据 -->\n  </a-card>\n</template>\n\n<script>\n  import pick from 'lodash.pick'\n  import {filterObj} from '@/utils/util';\n  import DictItemModal from './modules/DictItemModal'\n  import {JeecgListMixin} from '@/mixins/JeecgListMixin'\n\n  export default {\n    name: \"DictItemList\",\n    mixins: [JeecgListMixin],\n    components: {DictItemModal},\n    data() {\n      return {\n        columns: [\n          {\n            title: '名称',\n            align: \"center\",\n            dataIndex: 'itemText',\n          },\n          {\n            title: '数据值',\n            align: \"center\",\n            dataIndex: 'itemValue',\n          },\n          {\n            title: '操作',\n            dataIndex: 'action',\n            align: \"center\",\n            scopedSlots: {customRender: 'action'},\n          }\n        ],\n        queryParam: {\n          dictId: \"\",\n          dictName: \"\",\n          itemText: \"\",\n          delFlag: \"1\",\n          status: [],\n        },\n        title: \"操作\",\n        visible: false,\n        screenWidth: 800,\n        model: {},\n        dictId: \"\",\n        status: 1,\n        labelCol: {\n          xs: {span: 5},\n          sm: {span: 5},\n        },\n        wrapperCol: {\n          xs: {span: 12},\n          sm: {span: 12},\n        },\n        form: this.$form.createForm(this),\n        validatorRules: {\n          itemText: {rules: [{required: true, message: '请输入名称!'}]},\n          itemValue: {rules: [{required: true, message: '请输入数据值!'}]},\n        },\n        url: {\n          list: \"/sys/dictItem/list\",\n          delete: \"/sys/dictItem/delete\",\n          deleteBatch: \"/sys/dictItem/deleteBatch\",\n        },\n      }\n    },\n    created() {\n      // 当页面初始化时,根据屏幕大小来给抽屉设置宽度\n      this.resetScreenSize();\n    },\n    methods: {\n      add(dictId) {\n        this.dictId = dictId;\n        this.edit({});\n      },\n      edit(record) {\n        if (record.id) {\n          this.dictId = record.id;\n        }\n        this.queryParam = {}\n        this.form.resetFields();\n        this.model = Object.assign({}, record);\n        this.model.dictId = this.dictId;\n        this.model.status = this.status;\n        this.visible = true;\n        this.$nextTick(() => {\n          this.form.setFieldsValue(pick(this.model, 'itemText', 'itemValue'))\n        });\n        // 当其它模块调用该模块时,调用此方法加载字典数据\n        this.loadData();\n      },\n\n      getQueryParams() {\n        //update--begin--autor:wangshuai-----date:20191204------for：清空总条数 teambition JT-113------\n        this.ipagination.total=0;\n        //update--end--autor:wangshuai-----date:20191204------for：清空总条数 teambition JT-113------\n        var param = Object.assign({}, this.queryParam);\n        param.dictId = this.dictId;\n        param.field = this.getQueryField();\n        param.pageNo = this.ipagination.current;\n        param.pageSize = this.ipagination.pageSize;\n        if (this.superQueryParams) {\n          param['superQueryParams'] = encodeURI(this.superQueryParams)\n          param['superQueryMatchType'] = this.superQueryMatchType\n        }\n        return filterObj(param);\n      },\n\n      // 添加字典数据\n      handleAdd() {\n        this.$refs.modalForm.add(this.dictId);\n        this.$refs.modalForm.title = \"新增\";\n      },\n      showDrawer() {\n        this.visible = true\n      },\n      onClose() {\n        this.visible = false\n        this.form.resetFields();\n        this.dataSource = [];\n      },\n      // 抽屉的宽度随着屏幕大小来改变\n      resetScreenSize() {\n        let screenWidth = document.body.clientWidth;\n        if (screenWidth < 600) {\n          this.screenWidth = screenWidth;\n        } else {\n          this.screenWidth = 600;\n        }\n      },\n      //update--begin--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n      //增加样式方法返回值\n      getRowClassname(record){\n        if(record.status==0){\n          return \"data-rule-invalid\"\n        }\n      }\n      //update--end--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n//update--begin--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n/deep/ .data-rule-invalid{\n  background: #f4f4f4;\n  color: #bababa;\n}\n//update--begin--autor:wangshuai-----date:20191204------for：系统管理 数据字典禁用和正常区别开，添加背景颜色 teambition JT-22------\n</style>"],"mappings":"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","ignoreList":[]}]}